# DESCQA web view

this directory hosts the cgi scripts for displaying the results.


## Code structure

- "Big table" page: generated by `home.py`. Since it is a huge table, each row of the table is actually generated by `utils/invocations_simple.py` and cached under `cache`. Use `config` to set options.

- "Matrix" page: `viewer/viewBuilds.py`

- "Show plots" page: `viewer/viewBuild.py` is the main frame. On the left, `viewer/leftFrame.py` uses `viewer/viewBuildTemplate.ezt` as a template to generate the comparison. On the right it shows the text or png file with `viewer/viewFile.py`.


## How to debug:

Debugging cgi scripts is a pain. Now, all python scripts already have `cgitb` enabled, which allows you to see the traceback message on the web, and make debugging much easier. 

However, you may encouter "Internal Server Error", which is not very informative. This usually means two possibilities: 

1.  The script does not have the correct permission. run `./fix_permission.sh` to fix it.
2.  There's syntax errors in the script. In this case, run `python <script.py>` on the server to see what's wrong. 
